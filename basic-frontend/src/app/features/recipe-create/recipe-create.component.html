<h2>Erstelle ein Rezept</h2>

<form [formGroup]="recipeForm" (ngSubmit)="submitForm()">
    <mat-form-field appearance="fill">
      <mat-label>Titel</mat-label>
      <input matInput id="recipeTitle" type="text" formControlName="recipeTitle" />
    </mat-form-field>
    <br />

    <mat-form-field appearance="fill">
      <mat-label>Beschreibung</mat-label>
      <textarea matInput id="recipeDescription" type="text" formControlName="recipeDescription"> </textarea>
    </mat-form-field>
    <br />

    Zutaten:
    <!-- //TODO inhalt der inputfelder anpassen -->
    @for (zutat of ingredients; track $index) {
      @if ($index < 15) {
        <mat-form-field appearance="fill">
          <mat-label>Element</mat-label>
          <span matTextPrefix>{{$index+1}} &nbsp;</span>
          <input value="Sushi" matInput id="recipeIngredient_{{$index}}" class="recipeIngredients" type="text" formControlName="recipeIngredients" />
          @if (recipeIngredients.value) {
            <span matSuffix>
              <mat-icon (click)="addIngredient()">add_circle</mat-icon>
            </span>
          }
        </mat-form-field>
      } @else {
        <p>Maximale Anzahl an Zutaten erreicht</p>

      }
    }

    <br />

    <mat-form-field appearance="fill">
      <mat-label>Anleitung</mat-label>
      <textarea matInput id="recipeInstruction" type="text" formControlName="recipeInstruction"> </textarea>
    </mat-form-field>
    <br />

  <button mat-raised-button type="submit" [disabled]="recipeForm.invalid">Rezept erstellen</button>
</form>
